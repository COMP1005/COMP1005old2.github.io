<!DOCTYPE html>
<!-- START: inst/pkgdown/templates/layout.html --><!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><title>Fundamentals of Programming: Prac08: Scripts and Automation</title><meta name="viewport" content="width=device-width, initial-scale=1"><link rel="stylesheet" type="text/css" href="assets/styles.css"><script src="assets/scripts.js" type="text/javascript"></script><!-- mathjax --><script type="text/x-mathjax-config">
    MathJax.Hub.Config({
      config: ["MMLorHTML.js"],
      jax: ["input/TeX","input/MathML","output/HTML-CSS","output/NativeMML", "output/PreviewHTML"],
      extensions: ["tex2jax.js","mml2jax.js","MathMenu.js","MathZoom.js", "fast-preview.js", "AssistiveMML.js", "a11y/accessibility-menu.js"],
      TeX: {
        extensions: ["AMSmath.js","AMSsymbols.js","noErrors.js","noUndefined.js"]
      },
      tex2jax: {
        inlineMath: [ ['$','$'], ['\\(', '\\)']],
        displayMath: [ ['$$','$$'], ['\\[', '\\]'] ],
        processEscapes: true
      }
    });
    </script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><!-- Responsive Favicon for The Carpentries --><link rel="apple-touch-icon" sizes="180x180" href="apple-touch-icon.png"><link rel="icon" type="image/png" sizes="32x32" href="favicon-32x32.png"><link rel="icon" type="image/png" sizes="16x16" href="favicon-16x16.png"><link rel="manifest" href="site.webmanifest"><link rel="mask-icon" href="safari-pinned-tab.svg" color="#5bbad5"><meta name="msapplication-TileColor" content="#da532c"><meta name="theme-color" content="#ffffff"></head><body>
    <header id="top" class="navbar navbar-expand-md navbar-light bg-white top-nav carpentries"><a class="visually-hidden-focusable skip-link" href="#main-content">Skip to main content</a>
  <div class="container-fluid top-nav-container">
    <div class="col-md-6">
      <div class="large-logo">
        <img alt="The Carpentries" src="assets/images/carpentries-logo.svg"><abbr class="icon" title="This lesson is in the beta phase, which means that it is ready for teaching by instructors outside of the original author team." style="text-decoration: unset">
           
          <a href="https://cdh.carpentries.org/the-lesson-life-cycle.html#polishing-beta-stage" class="external-link alert-link" style="color: #383838">Beta
            <i aria-hidden="true" class="icon" data-feather="alert-circle" style="color: #001483; border-radius: 5px"></i>
          </a>
          <span class="visually-hidden">This lesson is in the beta phase, which means that it is ready for teaching by instructors outside of the original author team.</span>
        </abbr>
        
      </div>
    </div>
    <div class="selector-container ">
      
      
      <div class="dropdown">
        <button class="btn btn-secondary dropdown-toggle bordered-button" type="button" id="dropdownMenu1" data-bs-toggle="dropdown" aria-expanded="false">
          <i aria-hidden="true" class="icon" data-feather="eye"></i> Learner View <i data-feather="chevron-down"></i>
        </button>
        <ul class="dropdown-menu" aria-labelledby="dropdownMenu1"><li><button class="dropdown-item" type="button" onclick="window.location.href='instructor/prac08.html';">Instructor View</button></li>
        </ul></div>
    </div>
  </div>
  <hr></header><nav class="navbar navbar-expand-xl navbar-light bg-white bottom-nav carpentries" aria-label="Main Navigation"><div class="container-fluid nav-container">
    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarSupportedContent" aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
      <span class="menu-title">Menu</span>
    </button>
    <div class="nav-logo">
      <img class="small-logo" alt="The Carpentries" src="assets/images/carpentries-logo-sm.svg"></div>
    <div class="lesson-title-md">
      Fundamentals of Programming
    </div>
    <div class="search-icon-sm">
      <!-- TODO: do not show until we have search
      <i role="img" aria-label="search button" data-feather="search"></i>
      -->
    </div>
    <div class="desktop-nav">
      <ul class="navbar-nav me-auto mb-2 mb-lg-0"><li class="nav-item">
          <span class="lesson-title">
            Fundamentals of Programming
          </span>
        </li>
        <li class="nav-item">
          <a class="nav-link" href="key-points.html">Key Points</a>
        </li>
        <li class="nav-item">
          <a class="nav-link" href="reference.html#glossary">Glossary</a>
        </li>
        <li class="nav-item">
          <a class="nav-link" href="profiles.html">Learner Profiles</a>
        </li>
        <li class="nav-item dropdown">
          <button class="nav-link dropdown-toggle" id="navbarDropdown" data-bs-toggle="dropdown" aria-expanded="false">
            More <i data-feather="chevron-down"></i>
          </button>
          <ul class="dropdown-menu" aria-labelledby="navbarDropdown"></ul></li>
      </ul></div>
    <form class="d-flex col-md-2 search-form">
      <fieldset disabled><input class="form-control me-2 searchbox" type="search" placeholder="Search" aria-label="Search"><button class="btn btn-outline-success tablet-search-button" type="submit">
          <i class="search-icon" data-feather="search" role="img" aria-label="search button"></i>
        </button>
      </fieldset></form>
  </div><!--/div.container-fluid -->
</nav><div class="col-md-12 mobile-title">
  Fundamentals of Programming
</div>

<aside class="col-md-12 lesson-progress"><div style="width: 80%" class="percentage">
    80%
  </div>
  <div class="progress carpentries">
    <div class="progress-bar carpentries" role="progressbar" style="width: 80%" aria-valuenow="80" aria-label="Lesson Progress" aria-valuemin="0" aria-valuemax="100">
    </div>
  </div>
</aside><div class="container">
      <div class="row">
        <!-- START: inst/pkgdown/templates/navbar.html -->
  <div id="sidebar-col" class="col-lg-4">
    <div id="sidebar" class="sidebar">
      <nav aria-labelledby="flush-headingEleven"><button role="button" aria-label="close menu" alt="close menu" aria-expanded="true" aria-controls="sidebar" class="collapse-toggle"><i class="search-icon" data-feather="x" role="img"></i></button>
        <div class="sidebar-inner">
          <div class="row mobile-row">
            <div class="col">
              <div class="sidenav-view-selector">
                <div class="accordion accordion-flush" id="accordionFlush9">
                  <div class="accordion-item">
                    <h2 class="accordion-header" id="flush-headingNine">
                      <button class="accordion-button collapsed" id="instructor" type="button" data-bs-toggle="collapse" data-bs-target="#flush-collapseNine" aria-expanded="false" aria-controls="flush-collapseNine">
                        <i id="eye" aria-hidden="true" class="icon" data-feather="eye"></i> Learner View
                      </button>
                    </h2>
                    <div id="flush-collapseNine" class="accordion-collapse collapse" aria-labelledby="flush-headingNine" data-bs-parent="#accordionFlush2">
                      <div class="accordion-body">
                        <a href="instructor/prac08.html">Instructor View</a>
                      </div>
                    </div>
                  </div><!--/div.accordion-item-->
                </div><!--/div.accordion-flush-->
              </div><!--div.sidenav-view-selector -->
            </div><!--/div.col -->
      
            <hr></div><!--/div.mobile-row -->

          <div class="accordion accordion-flush" id="accordionFlush11">
            <div class="accordion-item">

              <button id="chapters" class="accordion-button show" type="button" data-bs-toggle="collapse" data-bs-target="#flush-collapseEleven" aria-expanded="false" aria-controls="flush-collapseEleven">
                <h2 class="accordion-header chapters" id="flush-headingEleven">
                  EPISODES
                </h2>
              </button>
              <div id="flush-collapseEleven" class="accordion-collapse show collapse" aria-labelledby="flush-headingEleven" data-bs-parent="#accordionFlush11">

                <div class="accordion-body">
                  <div class="accordion accordion-flush" id="accordionFlush1">
  <div class="accordion-item">
    <div class="accordion-header" id="flush-heading1">
        <a href="index.html">Summary and Setup</a>
    </div><!--/div.accordion-header-->
        
  </div><!--/div.accordion-item-->
</div><!--/div.accordion-flush-->

<div class="accordion accordion-flush" id="accordionFlush2">
  <div class="accordion-item">
    <div class="accordion-header" id="flush-heading2">
        <a href="prac00.html">1. Prac00: Introduction to Linux</a>
    </div><!--/div.accordion-header-->
        
  </div><!--/div.accordion-item-->
</div><!--/div.accordion-flush-->

<div class="accordion accordion-flush" id="accordionFlush3">
  <div class="accordion-item">
    <div class="accordion-header" id="flush-heading3">
        <a href="prac01.html">2. Prac01: Introduction to Python</a>
    </div><!--/div.accordion-header-->
        
  </div><!--/div.accordion-item-->
</div><!--/div.accordion-flush-->

<div class="accordion accordion-flush" id="accordionFlush4">
  <div class="accordion-item">
    <div class="accordion-header" id="flush-heading4">
        <a href="prac02.html">3. Prac02: Strings and Lists</a>
    </div><!--/div.accordion-header-->
        
  </div><!--/div.accordion-item-->
</div><!--/div.accordion-flush-->

<div class="accordion accordion-flush" id="accordionFlush5">
  <div class="accordion-item">
    <div class="accordion-header" id="flush-heading5">
        <a href="prac03.html">4. Prac03: Arrays and Plotting</a>
    </div><!--/div.accordion-header-->
        
  </div><!--/div.accordion-item-->
</div><!--/div.accordion-flush-->

<div class="accordion accordion-flush" id="accordionFlush6">
  <div class="accordion-item">
    <div class="accordion-header" id="flush-heading6">
        <a href="prac04.html">5. Prac04: 2-Dimensional Arrays, Functions and Plotting</a>
    </div><!--/div.accordion-header-->
        
  </div><!--/div.accordion-item-->
</div><!--/div.accordion-flush-->

<div class="accordion accordion-flush" id="accordionFlush7">
  <div class="accordion-item">
    <div class="accordion-header" id="flush-heading7">
        <a href="prac05.html">6. Prac05: Grids and Files</a>
    </div><!--/div.accordion-header-->
        
  </div><!--/div.accordion-item-->
</div><!--/div.accordion-flush-->

<div class="accordion accordion-flush" id="accordionFlush8">
  <div class="accordion-item">
    <div class="accordion-header" id="flush-heading8">
        <a href="prac06.html">7. Prac06: Modelling the World with Objects</a>
    </div><!--/div.accordion-header-->
        
  </div><!--/div.accordion-item-->
</div><!--/div.accordion-flush-->

<div class="accordion accordion-flush" id="accordionFlush9">
  <div class="accordion-item">
    <div class="accordion-header" id="flush-heading9">
        <a href="prac07.html">8. Prac07: Object Relationships and Exception Handling</a>
    </div><!--/div.accordion-header-->
        
  </div><!--/div.accordion-item-->
</div><!--/div.accordion-flush-->

<div class="accordion accordion-flush" id="accordionFlushcurrent">
  <div class="accordion-item">
    <div class="accordion-header" id="flush-headingcurrent">
        <span class="visually-hidden">Current Chapter</span>
        <span class="current-chapter">
        9. Prac08: Scripts and Automation
        </span>
      
    </div><!--/div.accordion-header-->
        
  </div><!--/div.accordion-item-->
</div><!--/div.accordion-flush-->

<div class="accordion accordion-flush" id="accordionFlush11">
  <div class="accordion-item">
    <div class="accordion-header" id="flush-heading11">
        <a href="prac09.html">10. Prac09: Working with Structured Data</a>
    </div><!--/div.accordion-header-->
        
  </div><!--/div.accordion-item-->
</div><!--/div.accordion-flush-->

                </div>
              </div>
            </div>

            <hr class="half-width"><div class="accordion accordion-flush resources" id="accordionFlush12">
              <div class="accordion-item">
                <h2 class="accordion-header" id="flush-headingTwelve">
                  <button class="accordion-button collapsed" id="resources" type="button" data-bs-toggle="collapse" data-bs-target="#flush-collapseTwelve" aria-expanded="false" aria-controls="flush-collapseTwelve">
                    RESOURCES
                  </button>
                </h2>
                <div id="flush-collapseTwelve" class="accordion-collapse collapse" aria-labelledby="flush-headingTwelve" data-bs-parent="#accordionFlush12">
                  <div class="accordion-body">
                    <ul><li>
                        <a href="key-points.html">Key Points</a>
                      </li>
                      <li>
                        <a href="reference.html#glossary">Glossary</a>
                      </li>
                      <li>
                        <a href="profiles.html">Learner Profiles</a>
                      </li>
                      
                    </ul></div>
                </div>
              </div>
            </div>
            <hr class="half-width resources"><a href="aio.html">See all in one page</a>

            <hr class="d-none d-sm-block d-md-none"><div class="d-grid gap-1">
            
            </div>
          </div><!-- /div.accordion -->
        </div><!-- /div.sidebar-inner -->
      </nav></div><!-- /div.sidebar -->
  </div><!-- /div.sidebar-col -->
<!-- END:   inst/pkgdown/templates/navbar.html-->

        <!-- START: inst/pkgdown/templates/content-instructor.html -->
  <div class="col-xl-8 col-lg-12 primary-content">
    <nav class="lesson-content mx-md-4" aria-label="Previous and Next Chapter"><!-- content for small screens --><div class="d-block d-sm-block d-md-none">
        <a class="chapter-link" href="prac07.html"><i aria-hidden="true" class="small-arrow" data-feather="arrow-left"></i>Previous</a>
        <a class="chapter-link float-end" href="prac09.html">Next<i aria-hidden="true" class="small-arrow" data-feather="arrow-right"></i></a>
      </div>
      <!-- content for large screens -->
      <div class="d-none d-sm-none d-md-block">
        <a class="chapter-link" href="prac07.html" rel="prev"><i aria-hidden="true" class="small-arrow" data-feather="arrow-left"></i>Previous: Prac07: Object</a>
        <a class="chapter-link float-end" href="prac09.html" rel="next">Next: Prac09: Working with... <i aria-hidden="true" class="small-arrow" data-feather="arrow-right"></i></a>
      </div>
      <hr></nav><main id="main-content" class="main-content"><div class="container lesson-content">
        <h1>Prac08: Scripts and Automation</h1>
        <p> Last updated on 2023-07-11 | 
        
        <a href="https://github.com/COMP1005/COMP1005.github.io/edit/main/episodes/prac08.md" class="external-link">Edit this page <i aria-hidden="true" data-feather="edit"></i></a></p>
        
        
        
        <div class="text-end">
          <button role="button" aria-pressed="false" tabindex="0" id="expand-code" class="pull-right"> Expand All Solutions <i aria-hidden="true" data-feather="plus"></i></button>
        </div>

        

<div class="overview card">
<h2 class="card-header">Overview</h2>
<div class="row g-0">
<div class="col-md-4">
<div class="card-body">
<div class="inner">
<h3 class="card-title">Questions</h3>
<ul><li>Newly updated, check the old prac sheet if you find problems</li>
</ul></div>
</div>
</div>
<div class="col-md-8">
<div class="card-body">
<div class="inner bordered">
<h3 class="card-title">Objectives</h3>
<ol style="list-style-type: decimal"><li>Understand and use Bash and Python as a scripting languages</li>
<li>Apply Python scripts to implement a parameter sweep using an
existing program</li>
<li>Understand and modify supplied code to automate experiments</li>
</ol></div>
</div>
</div>
</div>
</div>
<div class="section level3">
<h3 id="introduction">Introduction<a class="anchor" aria-label="anchor" href="#introduction"></a></h3>
<p>In this practical you will be writing Bash and Python scripts to
automate the process of running experiments. We will start with some
simple bash examples, then you will download and modify code, and write
scripts to run the programs multiple times with different
parameters.</p>
</div>
<div class="section level3">
<h3 id="activity-1---the-power-of-unix">Activity 1 - The Power of Unix<a class="anchor" aria-label="anchor" href="#activity-1---the-power-of-unix"></a></h3>
<p>Each week we have be creating a README file to describe the programs
we have written for each practical. So far that’s five READMEs in
different directories. It might be interesting to list the programs and
their descriptions.</p>
<p>Begin by creating the directory for Prac6 and changing to that
directory. We can start with listing the contents of all our
<code>Prac*</code> directories. That’s a level above where we are, so we
need to use <code>../</code> .</p>
<p>Try the following commands…</p>
<pre><code>ls ../Prac*
ls –R ../Prac*
ls –l ../Prac*/*.py
ls –l ../Prac*/README*</code></pre>
<p>What is the difference between the various commands?</p>
<p>If we want to pull information out of a file, we can use grep. Grep
matches to the strings within each line of the file, and prints the ones
that match.</p>
<pre><code>grep .py ../Prac*/README*
grep .py ../Prac*/README* | wc
grep .py ../Prac*/README* | wc -l
grep .py ../Prac*/README* &gt; myprogs.txt</code></pre>
<p>Try to work these out:</p>
<ol style="list-style-type: decimal"><li>Find out which programs use matplotlib.pyplot using a grep
command.</li>
<li>Calculate how many print statements are in each program (grep &amp;
wc).</li>
</ol></div>
<div class="section level3">
<h3 id="activity-2---using-command-line-arguments">Activity 2 - Using command line arguments<a class="anchor" aria-label="anchor" href="#activity-2---using-command-line-arguments"></a></h3>
<p>In most of our programs, we have hard-coded the values into the
variables. That means we have to edit the code to change and experiment
with the variables. We may have a few variables we want to work without
creating new versions of our program each time. We implement this
through command line arguments or input files (as in heatsource.py). In
this task we will use command line arguments.</p>
<p>Download <code>repeatdosageP.py</code> from Blackboard. It is a
modified version of our previous program – providing more information
about parameters and results. If you look at the min, max and mean
values at the end of the program – there are two versions. As what we
are really interested in with this experiment is the
<code>drug_in_system</code> being between the <code>MEC</code> and
<code>MTC</code> – a simple minimum and mean don’t really help us. The
code gives a simple approach to checking when the value first goes above
<code>MEC</code>, and calculates the min, max and mean after that. Run
the code to confirm what it does.</p>
<p>We will make a new version of the program, <code>dosagebase.py</code>
to use command line arguments. Make the following changes at the start
of the program:</p>
<div class="codewrapper sourceCode" id="cb3">
<h3 class="code-label">PYTHON<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode python" tabindex="0"><code class="sourceCode python"><span id="cb3-1"><a href="#cb3-1" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> sys</span>
<span id="cb3-2"><a href="#cb3-2" aria-hidden="true" tabindex="-1"></a><span class="co"># Process command line arguments</span></span>
<span id="cb3-3"><a href="#cb3-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb3-4"><a href="#cb3-4" aria-hidden="true" tabindex="-1"></a><span class="cf">if</span> (<span class="bu">len</span>(sys.argv) <span class="op">&lt;</span> <span class="dv">3</span>):</span>
<span id="cb3-5"><a href="#cb3-5" aria-hidden="true" tabindex="-1"></a>    <span class="bu">print</span>(<span class="st">'argv too short, usage: python3 &lt;interval&gt; &lt;dosage&gt;'</span>) </span>
<span id="cb3-6"><a href="#cb3-6" aria-hidden="true" tabindex="-1"></a>    <span class="bu">print</span>(<span class="st">'Using default values for interval (8) and dosage (100)'</span>)</span>
<span id="cb3-7"><a href="#cb3-7" aria-hidden="true" tabindex="-1"></a>    Vinterval <span class="op">=</span> <span class="dv">8</span> <span class="co"># 8 hours between doses </span></span>
<span id="cb3-8"><a href="#cb3-8" aria-hidden="true" tabindex="-1"></a>    Vdosage <span class="op">=</span> <span class="dv">100</span> <span class="co"># dosage 100mg</span></span>
<span id="cb3-9"><a href="#cb3-9" aria-hidden="true" tabindex="-1"></a><span class="cf">else</span>:</span>
<span id="cb3-10"><a href="#cb3-10" aria-hidden="true" tabindex="-1"></a>    Vinterval <span class="op">=</span> <span class="bu">int</span>(sys.argv[<span class="dv">1</span>]) <span class="co"># hours between doses </span></span>
<span id="cb3-11"><a href="#cb3-11" aria-hidden="true" tabindex="-1"></a>    Vdosage <span class="op">=</span> <span class="bu">int</span>(sys.argv[<span class="dv">2</span>]) <span class="co"># dosage</span></span></code></pre>
</div>
<p>Then change the setup of the interval and dosage variables to use
Vinterval and Vdosage. Test the program to see that it works. See how
the output changes for different dosage and interval values.</p>
<p>Another change we might want is to stop the program plotting to the
screen. We can save the plot to a file instead.</p>
<div class="codewrapper sourceCode" id="cb4">
<h3 class="code-label">PYTHON<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode python" tabindex="0"><code class="sourceCode python"><span id="cb4-1"><a href="#cb4-1" aria-hidden="true" tabindex="-1"></a>plt.savefig(<span class="st">'dosage_'</span> <span class="op">+</span> <span class="st">'I'</span> <span class="op">+</span> <span class="bu">str</span>(Vinterval)<span class="op">+</span><span class="st">'_D'</span> <span class="op">+</span> <span class="bu">str</span>(Vdosage) <span class="op">+</span> <span class="st">'.png'</span>)</span></code></pre>
</div>
<p>Now our program is ready to be the base program for a parameter
sweep. We’ll create the parameter sweep program in the next task.</p>
</div>
<div class="section level3">
<h3 id="activity-3---run-a-parameter-sweep">Activity 3 - Run a parameter sweep<a class="anchor" aria-label="anchor" href="#activity-3---run-a-parameter-sweep"></a></h3>
<p>Our base program takes two command line variables: interval and
dosage. We want to be able to sweep across a range of values for these
two variables, to find workable ways to prescribe the medication. Of
course, we could consider changing other variables – but we’ll stick to
two for now.</p>
<p>A bit like our range statements in Python, we’d like to be able to
have a start, stop and step value, for each variable. Thus our script
will take six command line arguments:
<code>low_int high_int step_int low_dose hi_dose step_dose</code></p>
<p>The driver script, <code>dosage_sweep.sh</code>, below, creates a
directory for the experiment, processes the command line arguments and
then has two for loops to go through the parameter sweep. Inside the
loop it calls the dosagebase.py program and redirects the output to a
file. Type in the driver script and see if you can get it working.</p>
<pre><code>#!/bin/bash

exp_dir=dosage`date "+%Y-%m-%d_%H:%M:%S"`

mkdir $exp_dir
cp dosagebase.py $exp_dir 
cp dosage_sweep.sh $exp_dir 
cd $exp_dir

low_int=$1 
hi_int=$2 
step_int=$3 
low_dose=$4 
hi_dose=$5 
step_dose=$6

echo "Parameters are: "
echo "Interval : " $low_int $hi_int $step_int 
echo "Dosage : " $low_dose $hi_dose $step_dose

for i in `seq $low_int $step_int $hi_int`; 
do
    for d in `seq $low_dose $step_dose $hi_dose`; 
    do
        echo "Experiment: " $i $d 
        outfile="dosage_I"$i"_D"$d".txt" 
        python3 dosagebase.py $i $d &gt; $outfile
    done 
done

If you look in the directory after the script has run, you will see the saved 
png plots and the txt files. You can look at the results using: ```tail –n 3 *.txt```

Run the script with the following values:
</code></pre>
<p>sh dosage_sweep.sh 4 12 4 50 300 50</p>
<pre><code>
Can you find the extreme results using tail? Look at the graphs to confirm the data.

### Activity 4 - Automatic weather plots
 
In the lecture we looked at a workflow for plotting data. The steps were:

1. Getdata
2. Extract lines
3. Extract columns
4. Plot

Type in the commands from the lecture on the command line to ensure they work. You 
may need to add a ```–p``` to gnuplot to make the plot stay on the screen:
</code></pre>
<p>gnuplot –p plotcmd.txt</p>
<pre><code>
Use the history command and redirection to put the workflow commands 
into a file ```weather_workflow.sh```
</code></pre>
<p>history 20 &gt; weather_workflow.sh</p>
<pre><code>
Add ```#!/bin/bash``` as the first line of the file – this specifies the *shell* to 
use to run the program. Delete unnecessary lines (dd), remove numbers from the 
start of liens and make any other changes you need, then you should be able to 
run the code with:
</code></pre>
<p>sh weather_workflow.sh</p>
<pre><code>
Once you have this working, add code to the script to

1. Put command line arguments in to take in the year and month
2. Make a directory based on the year and month: plot_year_month
3. Copy the script and plotcmd.txt file into the directory
4. Change to the directory
5. Download the data – substituting the year and month into the URL
6. Extract the lines
7. Extract the columns
8. Plot the data

If you want to plot to a file, you need to set the terminal and output file name. See the example below:
  </code></pre>
<p>gnuplot -e “set terminal png size 400,300; set output ‘xyz.png’; plot
[-4:4] exp(-x**2 / 2)” ```</p>
<p>All the plotting commands can be typed in, or put into a file and
referred to.</p>
</div>
<div class="section level3">
<h3 id="submission">Submission<a class="anchor" aria-label="anchor" href="#submission"></a></h3>
<p>Update the README file to include all files created in this
practical.</p>
<p>All of your work for this week’s practical should be submitted via
Blackboard using the Practical 08 link. This should be done as a single
“zipped” file. Submit the resulting file through Blackboard. (refer to
Practical 00 or 01 for instructions on zipping files.</p>
<p>There are no direct marks for these submissions, but they may be
taken into account when finalising your mark for the unit. Go to the
Assessment link on Blackboard and click on Practical 08 for the
submission page.</p>
</div>
<div class="section level3">
<h3 id="and-thats-the-end-of-practical-08">And that’s the end of Practical 08!<a class="anchor" aria-label="anchor" href="#and-thats-the-end-of-practical-08"></a></h3>
<div id="keypoints1" class="callout keypoints">
<div class="callout-square">
<i class="callout-icon" data-feather="key"></i>
</div>
<div class="callout-inner">
<h3 class="callout-title">Keypoints<a class="anchor" aria-label="anchor" href="#keypoints1"></a>
</h3>
<div class="callout-content">
<ul><li>FIXME</li>
</ul></div>
</div>
</div>
<div id="reflection---fixme" class="callout checklist">
<div class="callout-square">
<i class="callout-icon" data-feather="check-square"></i>
</div>
<div id="reflection---fixme" class="callout-inner">
<h3 class="callout-title">Reflection - FIXME<a class="anchor" aria-label="anchor" href="#reflection---fixme"></a>
</h3>
<div class="callout-content">
<ol style="list-style-type: decimal"><li>
<strong>Knowledge:</strong> What are the three different read
methods we can use on a file? What is the difference between them?</li>
<li>
<strong>Comprehension</strong>: What does the line file2.write(…) do
in Activity 4?</li>
<li>
<strong>Application</strong>: Given the Game of Life rules, what
would happen to the centre cell in the following cases: <img src="GOL%20images" alt="fig/P05GOLReviewQ.png" class="figure"></li>
<li>
<strong>Analysis</strong>: What variation of “neighbours” does
<code>heatsource.py</code> use? How would the code change if it were to
use the other neighbour approach?</li>
<li>
<strong>Synthesis</strong>: How would you create a heat source input
file with a 4x4 heat source in the centre of the 10x10 grid?</li>
<li>
<strong>Evaluation</strong>: Name two advantages to reading initial
data from a file as in the updated <code>heatsource.py</code>.</li>
</ol></div>
</div>
</div>
<div id="discussion1" class="callout discussion">
<div class="callout-square">
<i class="callout-icon" data-feather="message-circle"></i>
</div>
<div class="callout-inner">
<h3 class="callout-title">Challenge<a class="anchor" aria-label="anchor" href="#discussion1"></a>
</h3>
<div class="callout-content">
<p>For those who want to explore a bit more of the topics covered in
this practical. Note that the challenges are not assessed but may form
part of the prac tests or exam.</p>
<ol style="list-style-type: decimal"><li>To read about a science project with data processing pipelines, view
the Fireballs in the Sky guest lecture notes and have a look at their
website <a href="http://fireballsinthesky.com.au/" class="external-link uri">http://fireballsinthesky.com.au/</a>
</li>
<li>Another version of the drug dosage program is available on
blackboard. Download and run it. Consider the differences in
implementation. What benefits are there in the alternative
approach?</li>
</ol></div>
</div>
</div>
<!-- 
Place links that you need to refer to multiple times across pages here. Delete
any links that you are not going to use. 
 -->
</div>



      </div> <!-- / div.lesson-content -->
    </main><!-- / main#main-content.main-content --><nav class="bottom-pagination mx-md-4" aria-label="Previous and Next Chapter"><div class="d-block d-sm-block d-md-none">
        <a class="chapter-link" href="prac07.html"><i aria-hidden="true" class="small-arrow" data-feather="arrow-left"></i>Previous</a>
        <a class="chapter-link float-end" href="prac09.html">Next<i aria-hidden="true" class="small-arrow" data-feather="arrow-right"></i></a>
      </div>
      <!-- content for large screens -->
      <div class="d-none d-sm-none d-md-block">
        <a class="chapter-link" href="prac07.html" rel="prev"><i aria-hidden="true" class="small-arrow" data-feather="arrow-left"></i>Previous: Prac07: Object</a>
        <a class="chapter-link float-end" href="prac09.html" rel="next">Next: Prac09: Working with... <i aria-hidden="true" class="small-arrow" data-feather="arrow-right"></i></a>
      </div>
    </nav></div> <!-- / div.primary-content.col-xs-12 -->
<!-- END:   inst/pkgdown/templates/content-instructor.html-->

      </div><!--/div.row-->
      		<footer class="row footer mx-md-3"><hr><div class="col-md-6">
				<p>This lesson is subject to the <a href="CODE_OF_CONDUCT.html">Code of Conduct</a></p>
        <p>
        
        <a href="https://github.com/COMP1005/COMP1005.github.io/edit/main/episodes/prac08.md" class="external-link">Edit on GitHub</a>
        
	
        | <a href="https://github.com/COMP1005/COMP1005.github.io/blob/main/CONTRIBUTING.md" class="external-link">Contributing</a> 
        | <a href="https://github.com/COMP1005/COMP1005.github.io/" class="external-link">Source</a></p>
				<p><a href="https://github.com/COMP1005/COMP1005.github.io/blob/main/CITATION" class="external-link">Cite</a> | <a href="mailto:COMP1005@curtin.edu.au">Contact</a> | <a href="https://carpentries.org/about/" class="external-link">About</a></p>
			</div>
			<div class="col-md-6">
        
        <p>Materials licensed under <a href="LICENSE.html">CC-BY 4.0</a> by the authors</p>
        
        <p><a href="https://creativecommons.org/licenses/by-sa/4.0/" class="external-link">Template licensed under CC-BY 4.0</a> by <a href="https://carpentries.org" class="external-link">The Carpentries</a></p>
        <p>Built with <a href="https://github.com/carpentries/sandpaper" class="external-link">sandpaper (0.12.5)</a>,
        <a href="https://github.com/carpentries/pegboard" class="external-link">pegboard (0.5.3)</a>,
      and <a href="https://github.com/carpentries/varnish/tree/0.2.17" class="external-link">varnish (0.2.17)</a>.</p>
			</div>
		</footer></div> <!-- / div.container -->
	<div id="to-top">
		<a href="#top">
			<i class="search-icon" data-feather="arrow-up" role="img" aria-label="Back to top"></i><br><span class="d-none d-sm-none d-md-none d-lg-none d-xl-block">Back</span> To Top
		</a>
	</div>
  <script type="application/ld+json">
    {
  "@context": "https://schema.org",
  "@type": "TrainingMaterial",
  "@id": "https://COMP1005.github.io/COMP1005.github.io/prac08.html",
  "dct:conformsTo": "https://bioschemas.org/profiles/TrainingMaterial/1.0-RELEASE",
  "description": "A Carpentries Lesson teaching foundational data and coding skills to researchers worldwide",
  "keywords": "programming, python, COMP1005",
  "name": "Prac08: Scripts and Automation",
  "creativeWorkStatus": "active",
  "url": "https://COMP1005.github.io/COMP1005.github.io/prac08.html",
  "identifier": "https://COMP1005.github.io/COMP1005.github.io/prac08.html",
  "dateCreated": "2023-08-08",
  "dateModified": "2023-07-11",
  "datePublished": "2023-08-08"
}

  </script><script>
		feather.replace();
	</script><!-- Matomo
    2022-11-07: we have gotten a notification that we have an overage for our
    tracking and I'm pretty sure this has to do with Workbench usage.
    Considering that I am not _currently_ using this tracking because I do not
    yet know how to access the data, I am turning this off for now.
  <script>
    var _paq = window._paq = window._paq || [];
    /* tracker methods like "setCustomDimension" should be called before "trackPageView" */
    _paq.push(["setDocumentTitle", document.domain + "/" + document.title]);
    _paq.push(["setDomains", ["*.preview.carpentries.org","*.datacarpentry.github.io","*.datacarpentry.org","*.librarycarpentry.github.io","*.librarycarpentry.org","*.swcarpentry.github.io", "*.carpentries.github.io"]]);
    _paq.push(["setDoNotTrack", true]);
    _paq.push(["disableCookies"]);
    _paq.push(['trackPageView']);
    _paq.push(['enableLinkTracking']);
    (function() {
          var u="https://carpentries.matomo.cloud/";
          _paq.push(['setTrackerUrl', u+'matomo.php']);
          _paq.push(['setSiteId', '1']);
          var d=document, g=d.createElement('script'), s=d.getElementsByTagName('script')[0];
          g.async=true; g.src='https://cdn.matomo.cloud/carpentries.matomo.cloud/matomo.js'; s.parentNode.insertBefore(g,s);
        })();
  </script>
  End Matomo Code --></body></html><!-- END:   inst/pkgdown/templates/layout.html-->

